(this.webpackJsonpmeest_moderation_panel=this.webpackJsonpmeest_moderation_panel||[]).push([[41],{684:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(734),n=a.n(r);function s(e,t,a){var r=(t-1)*a;return n()(e).slice(r).take(a).value()}},866:function(e,t,a){"use strict";var r=a(13),n=a(29),s=a(665),c=a.n(s),i=a(1),l=a.n(i),o=a(688);var d=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];e.apply(this,r),t.apply(this,r)}}),null)};function h(e){return!e||"#"===e.trim()}var b=l.a.forwardRef((function(e,t){var a=e.as,s=void 0===a?"a":a,c=e.disabled,i=e.onKeyDown,o=Object(n.a)(e,["as","disabled","onKeyDown"]),b=function(e){var t=o.href,a=o.onClick;(c||h(t))&&e.preventDefault(),c?e.stopPropagation():a&&a(e)};return h(o.href)&&(o.role=o.role||"button",o.href=o.href||"#"),c&&(o.tabIndex=-1,o["aria-disabled"]=!0),l.a.createElement(s,Object(r.a)({ref:t},o,{onClick:b,onKeyDown:d((function(e){" "===e.key&&(e.preventDefault(),b(e))}),i)}))}));b.displayName="SafeAnchor";var u=b,j=l.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.variant,i=e.size,d=e.active,h=e.className,b=e.block,j=e.type,m=e.as,x=Object(n.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),p=Object(o.a)(a,"btn"),v=c()(h,p,d&&"active",s&&p+"-"+s,b&&p+"-block",i&&p+"-"+i);if(x.href)return l.a.createElement(u,Object(r.a)({},x,{as:m,ref:t,className:c()(v,x.disabled&&"disabled")}));t&&(x.ref=t),j?x.type=j:m||(x.type="button");var g=m||"button";return l.a.createElement(g,Object(r.a)({},x,{className:v}))}));j.displayName="Button",j.defaultProps={variant:"primary",active:!1,disabled:!1};t.a=j},885:function(e,t,a){"use strict";var r=a(13),n=a(29),s=a(665),c=a.n(s),i=a(1),l=a.n(i),o=a(688),d=l.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.variant,i=e.animation,d=e.size,h=e.children,b=e.as,u=void 0===b?"div":b,j=e.className,m=Object(n.a)(e,["bsPrefix","variant","animation","size","children","as","className"]),x=(a=Object(o.a)(a,"spinner"))+"-"+i;return l.a.createElement(u,Object(r.a)({ref:t},m,{className:c()(j,x,d&&x+"-"+d,s&&"text-"+s)}),h)}));d.displayName="Spinner",t.a=d},998:function(e,t,a){"use strict";a.r(t);var r=a(115),n=a.n(r),s=a(172),c=a(687),i=a(168),l=a(169),o=a(170),d=a(171),h=a(1),b=a(88),u=a(52),j=a.n(u),m=a(173),x=a(87),p=a(684),v=a(704),g=a.n(v),f=a(885),O=a(1065),y=a(866),w=a(667),k=a(673),N=a(30),S=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={currentPage:1,pageSize:10,show:!1,sts:"",videos:[],page:0,videos1:[],serachText:""},e.handlebutton=function(t){e.setState({currentPage:t})},e.handleClose=function(){e.setState({show:!1})},e.handleVideo=function(t){var a=t.post_id;e.setState({sts:t.post_video,currentv:a,show:!0})},e.handlechange1=function(t){var a=t.currentTarget;e.setState({serachText:a.value})},e.handleSubmit2=function(){var t=Object(c.a)(e.state.videos1),a=(x.a.getCurrentUser(),t.filter((function(t){return t.medly_postid==e.state.serachText})));e.setState({videos:a,serachText:""})},e.handleSubmit1=function(){var t=Object(c.a)(e.state.videos1);e.setState({videos:t,serachText:""})},e.handleApprove=function(){var t=localStorage.getItem("token"),a={post_id:e.state.currentv,status:1};console.log(e.state.sts),j.a.post(b.apiEnd+"/adminapproverejectmedlypost",a,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){e.setState({show:!1});var a=localStorage.getItem("token"),r=x.a.getCurrentUser();m.a.get(b.apiEnd+"/rejectedmedlypost",{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({videos:t.data.result,videos1:t.data.result,user:r,page:t.data.result.length})}))}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(s.a)(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),a=x.a.getCurrentUser(),e.next=4,m.a.get(b.apiEnd+"/rejectedmedlypost",{headers:{Authorization:"Bearer ".concat(t)}});case 4:r=e.sent,this.setState({videos:r.data.result,videos1:r.data.result,user:a,page:r.data.result.length});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.currentPage,r=t.pageSize,n=t.page,s=Object(p.a)(this.state.videos,a,r);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(w.K,{row:!0,className:"m-3",children:Object(N.jsx)(w.u,{md:"12",children:Object(N.jsxs)(w.V,{children:[Object(N.jsx)(w.X,{children:Object(N.jsx)(w.f,{onClick:this.handleSubmit1,type:"button",color:"success",children:"Show All Post"})}),Object(N.jsx)(w.X,{children:Object(N.jsxs)(w.f,{type:"button",color:"primary",onClick:this.handleSubmit2,children:[Object(N.jsx)(k.a,{name:"cil-magnifying-glass"})," Search"]})}),Object(N.jsx)(w.S,{id:"input1-group2",type:"text",className:"control",value:this.state.serachText,onChange:this.handlechange1,name:"input1-group2",placeholder:"Enter Post Id"})]})})}),s.length>0?Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(w.wb,{children:Object(N.jsx)(w.u,{children:Object(N.jsxs)(w.j,{children:[Object(N.jsx)(w.n,{children:Object(N.jsx)("h2",{children:"Medley Reject List"})}),Object(N.jsxs)(w.k,{children:[Object(N.jsxs)("div",{className:"col-lg-12 col-md-12 col-sm-12",children:[Object(N.jsxs)("div",{className:"row border ",children:[Object(N.jsx)("div",{className:"col-1 bg-light p-2 text-white text-center border bg-dark",style:{fontWeight:"bold"},children:"Post Id"}),Object(N.jsx)("div",{className:"col-2 bg-light p-2 text-white text-center border bg-dark",style:{fontWeight:"bold"},children:"User Id"}),Object(N.jsx)("div",{className:"col-2 bg-light p-2 text-white text-center border bg-dark",style:{fontWeight:"bold"},children:"Comment"}),Object(N.jsx)("div",{className:"col-2 bg-light p-2 text-white text-center border bg-dark",style:{fontWeight:"bold"},children:"Rejected by"}),Object(N.jsx)("div",{className:"col-2 bg-light p-2 text-white text-center border bg-dark",style:{fontWeight:"bold"},children:"Flag given"}),Object(N.jsx)("div",{className:"col-1 bg-light p-2 text-white text-center border bg-dark",style:{fontWeight:"bold"},children:"Created At"}),Object(N.jsx)("div",{className:"col-2 bg-light p-2 text-white text-center border bg-dark",style:{fontWeight:"bold"},children:"View Post"})]}),s.map((function(t,a){return Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"row border ",children:[Object(N.jsx)("div",{className:"col-1 text-center  p-2 text-white bg-dark ",children:t.post_id}),Object(N.jsx)("div",{className:"col-2 text-center  p-2 text-white bg-dark ",children:t.user_id}),Object(N.jsx)("div",{className:"col-2 text-center  p-2 text-white bg-dark ",children:t.comment}),Object(N.jsx)("div",{className:"col-2 text-center  p-2 text-white bg-dark ",children:t.username}),Object(N.jsx)("div",{className:"col-2 text-center  p-2 text-white bg-dark ",children:t.flag_name}),Object(N.jsx)("div",{className:"col-1 text-center  p-2 text-white bg-dark ",children:new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(t.created_date))}),Object(N.jsx)("div",{className:"col-2 text-center  p-2 text-white bg-dark",children:Object(N.jsx)("button",{onClick:function(){e.handleVideo(t)},className:"btn btn-success",children:"View Post"})})]})},a)}))]}),Object(N.jsx)(w.sb,{activePage:a,pages:Math.ceil(n/10),onActivePageChange:this.handlebutton})]})]})})})}):Object(N.jsx)("div",{className:"text-center col-12",children:Object(N.jsx)(f.a,{animation:"border",variant:"primary"})}),Object(N.jsxs)(O.a,{show:this.state.show,children:[Object(N.jsxs)(O.a.Body,{children:[Object(N.jsx)(g.a,{playing:!0,className:"react-player",url:this.state.sts,width:"100%",controls:!0}),Object(N.jsx)(w.wb,{className:"mb-2 mt-3",children:Object(N.jsx)(w.u,{col:"4",sm:"4",md:"",xl:"",className:"ml-xl-4 mb-xl-3 ml-md-4 mb-md-3",children:Object(N.jsx)(w.f,{onClick:this.handleApprove,active:!0,block:!0,style:{backgroundColor:"#C1F9B2"},className:"Element element ","aria-pressed":"true",children:"Approve"})})})]}),Object(N.jsx)(O.a.Footer,{children:Object(N.jsx)(y.a,{variant:"success",onClick:this.handleClose,children:"Close"})})]})]})}}]),a}(h.Component);t.default=S}}]);
//# sourceMappingURL=41.23f79a55.chunk.js.map