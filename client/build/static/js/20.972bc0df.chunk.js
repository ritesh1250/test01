(this.webpackJsonpmeest_moderation_panel=this.webpackJsonpmeest_moderation_panel||[]).push([[20],{678:function(e,t,s){},703:function(e,t,s){},859:function(e,t,s){"use strict";(function(e){var a=s(115),o=s.n(a),c=s(172),n=s(669),i=s(1),l=(s(703),s(678),s(704)),r=s.n(l),d=s(845),m=s(116),u=s(87),b=s(667),h=s(30);t.a=function(t){var s=t.video,a=t.onVideoDelete,l=t.flags,p=t.topics,j=Object(i.useState)(0),g=Object(n.a)(j,2),v=g[0],O=g[1],f=Object(i.useState)("https://bestone-medley-newbucket.s3.ap-south-1.amazonaws.com/8w5tahIhJI04_02_2021_132220append.mp4"),x=Object(n.a)(f,2),k=(x[0],x[1]),y=Object(i.useState)(),N=Object(n.a)(y,2),C=N[0],w=N[1],_=Object(i.useState)(""),S=Object(n.a)(_,2),B=S[0],P=S[1],D=Object(i.useState)(""),H=Object(n.a)(D,2),V=H[0],A=H[1],z=Object(i.useState)([]),E=Object(n.a)(z,2),I=E[0],W=E[1],F=Object(i.useState)([]),T=Object(n.a)(F,2),M=T[0],J=T[1],U=["https://bestone-medley-newbucket.s3.ap-south-1.amazonaws.com/8w5tahIhJI04_02_2021_132220append.mp4","https://bestone-medley-newbucket.s3.ap-south-1.amazonaws.com/JozqWeS62403_19_2021_094309govt_(6).mp4"],R=u.a.getCurrentUser();if(!s)return k(U[0]),Object(h.jsx)("div",{className:"loading-video"});var L=function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B.length>0&&C&&V.length>0?(t={post_id:s.post_id,status:"H",comment:C,topicData:V,flagData:B},a(t,s).then((function(e){m.b.dark("Post Holded",{position:"top-right",autoClose:2005,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),P([]),w(""),A([]),W([]),J([])}))):m.b.error("Write Comment,select topic and select flags",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"video-detail ",children:[Object(h.jsx)("div",{className:"embed-responsive embed-responsive-16by9 video-detail-animation",style:{height:350},children:Object(h.jsx)(r.a,{playing:!0,className:'react-player embed-responsive-item"',url:s.post_video,width:"100%",height:"20%",controls:!0,onEnded:function(){var e;v+(e=1)<=U.length-1?(k(U[v+e]),O(v+e)):(k(U[0]),O(0))}})}),Object(h.jsx)("div",{className:"details ",children:Object(h.jsxs)("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 ",style:{backgroundColor:"#ffffff",padding:5},children:[Object(h.jsxs)("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 row",children:[Object(h.jsx)("img",{src:"https://bestone-bucket-node.s3.ap-south-1.amazonaws.com/userUploads/j1BraXN9Kbxar.JPEG",alt:"src",style:{width:30,height:30,borderRadius:15}}),Object(h.jsxs)("span",{className:"col-9",style:{color:"black",fontWeight:"bold"},children:["Post Id : ",s.post_id]})]}),Object(h.jsxs)("div",{className:"row ml-2",children:[Object(h.jsx)("div",{style:{color:"black",fontWeight:"bold"},children:"User id : "}),Object(h.jsx)("div",{style:{color:"black"},children:s.user_id})]}),Object(h.jsxs)("div",{className:"row ml-2",children:[Object(h.jsx)("div",{style:{color:"black",fontWeight:"bold"},children:"Caption : "}),Object(h.jsx)("span",{className:"col-10",style:{color:"black","word-wrap":"break-word",display:"inline-block"},children:e.from(s.post_description,"utf8").toString()})]}),Object(h.jsxs)("div",{className:"row ml-2",children:[Object(h.jsx)("div",{style:{color:"black",fontWeight:"bold"},children:"Uploaded Time : "}),Object(h.jsx)("div",{style:{color:"black"},children:s.created_date})]}),"Medly"===R.role_name?"":Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"row ml-2",children:[Object(h.jsx)("div",{style:{color:"black",fontWeight:"bold"},children:"Holded by : "}),Object(h.jsx)("div",{style:{color:"black"},children:s.username})]}),Object(h.jsxs)("div",{className:"row ml-2",children:[Object(h.jsx)("div",{style:{color:"black",fontWeight:"bold"},children:"Flag given : "}),Object(h.jsx)("div",{style:{color:"black"},children:s.flag_name})]}),Object(h.jsxs)("div",{className:"row ml-2",children:[Object(h.jsx)("div",{style:{color:"black",fontWeight:"bold"},children:"Comment by mod : "}),Object(h.jsx)("div",{style:{color:"black"},children:s.comment})]})]}),Object(h.jsx)("div",{children:Object(h.jsxs)(b.wb,{className:"mb-2 mt-3",children:[Object(h.jsx)(b.u,{col:"4",sm:"4",md:"",xl:"",className:"ml-xl-4 mb-xl-3 ml-md-4 mb-md-3",children:Object(h.jsx)(b.f,{onClick:function(e){if("Medly"===R.role_name)if(V.length>0&&0===B.length){var t={post_id:s.post_id,status:1,topicData:V};a(t,s).then((function(e){m.b.success("Post Approved",{position:"top-right",autoClose:2005,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),P([]),w(""),A([]),W([]),J([])}))}else m.b.error("select topic and not select flag",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});else if(C){var o={post_id:s.post_id,status:1,comment:C};a(o,s).then((function(e){m.b.success("Post Approved",{position:"top-right",autoClose:2005,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),P([]),w(""),A([]),W([]),J([])}))}else m.b.error("Please enter comment",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},active:!0,block:!0,style:{backgroundColor:"#C1F9B2"},className:"Element element ","aria-pressed":"true",children:"Approve"})}),Object(h.jsx)(b.u,{col:"4",sm:"4",md:"",xl:"",className:"mb-lg-3 mb-md-3",children:Object(h.jsx)(b.f,{onClick:function(){if("Medly"===R.role_name)if(B.length>0&&C&&V.length>0){var e={post_id:s.post_id,status:0,comment:C,topicData:V,flagData:B};a(e,s).then((function(){m.b.warning("Post Rejected",{position:"top-right",autoClose:2005,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),P([]),w(""),A([]),W([]),J([])}))}else m.b.error("Write Comment,select topic and select flags",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});else if(C){var t={post_id:s.post_id,status:0,comment:C};a(t,s).then((function(){m.b.warning("Post Rejected",{position:"top-right",autoClose:2005,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),P([]),w(""),A([]),W([]),J([])}))}else m.b.error("Please enter comment",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},active:!0,block:!0,style:{backgroundColor:"rgba(253, 55, 55, 0.700)"},className:"Element element tada","aria-pressed":"true",children:"Reject"})}),"Medly"===R.role_name?Object(h.jsx)(b.u,{col:"4",sm:"4",md:"",xl:"",className:"mb-lg-3 mr-lg-4 mb-xl-3 mr-xl-4 mb-md-3 mr-md-4 ",children:Object(h.jsx)(b.f,{onClick:L,active:!0,block:!0,className:"Element element tada",style:{backgroundColor:"rgba(119, 117, 117, 0.981)"},"aria-pressed":"true",children:"Hold"})}):""]})}),Object(h.jsx)("form",{children:Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{value:C,onChange:function(e){var t=e.currentTarget;w(t.value)},id:"comment",name:"comment",placeholder:"Enter comment on this post",className:"form-control"})})}),"Medly"===R.role_name?Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsx)(d.a,{value:M,isMulti:!0,options:l,onChange:function(e){var t=e.map((function(e){return e.value}));P(t),J(e)},className:"basic-multi-select",placeholder:"Select Flag"}),Object(h.jsx)("br",{}),Object(h.jsx)(d.a,{value:I,options:p,onChange:function(e){A(e.value),W(e)},className:"basic-multi-select",placeholder:"Select Topic"})]}):""]})})]})}}).call(this,s(843).Buffer)},860:function(e,t,s){"use strict";s(1);var a=s(861),o=s(30);t.a=function(e){var t=e.videos.map((function(t){return Object(o.jsx)(a.a,{onVideoSelect:e.onVideoSelect,video:t},t.id)}));return Object(o.jsx)("ul",{className:"col-md-12",children:t})}},861:function(e,t,s){"use strict";(function(e){s(1),s(703),s(835);var a=s(862),o=s(30);t.a=function(t){var s=t.video,c=t.onVideoSelect,n=new Date(s.created_date),i=new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).format(n),l=new Intl.DateTimeFormat("en-IN",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(n);return Object(o.jsx)("li",{onClick:function(){return c(s)},className:"list-group-item list-item-custom ",children:Object(o.jsxs)("div",{className:"video-list media",children:[Object(o.jsx)("div",{className:"media-right",children:Object(o.jsx)("img",{className:"media-object",style:{marginRight:5},width:"120px",height:"80px",src:a.a,alt:"list"})}),Object(o.jsxs)("div",{className:"media-body",style:{marginLeft:10},children:[Object(o.jsx)("div",{className:"",style:{fontWeight:"bold",width:5},children:e.from(s.post_description,"utf8").toString().substring(0,20)}),Object(o.jsx)("div",{className:"media-heading-channel-title",style:{fontSize:"auto"},children:i}),Object(o.jsx)("div",{className:"media-heading-channel-date",style:{fontSize:"auto"},children:l})]})]})})}}).call(this,s(843).Buffer)},862:function(e,t,s){"use strict";t.a=s.p+"static/media/notthumbnail.c84c720b.png"},997:function(e,t,s){"use strict";s.r(t);var a=s(115),o=s.n(a),c=s(687),n=s(172),i=s(168),l=s(169),r=s(170),d=s(171),m=s(1),u=s(835),b=s(116),h=s(173),p=s(87),j=s(88),g=s(859),v=s(860),O=s(30),f=function(e){Object(r.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).listarr=[],a.handleDeleteVideo=function(){var e=Object(n.a)(o.a.mark((function e(t,s){var n,i,l,r,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.next=3,h.a.post(j.apiEnd+"/adminapprovemedlypost",t,{headers:{Authorization:"Bearer ".concat(n)}});case 3:if(e.sent,i=p.a.getCurrentUser(),l=Object(c.a)(a.state.videos),r=l.filter((function(e){return e.id!==s.id})),a.setState({videos:r,selectedVideo:r[0],flagData:[]}),!(a.state.videos.length<5&&0===a.state.count)){e.next=13;break}return e.next=11,h.a.get(j.apiEnd+"/holdedmedlypost",{headers:{Authorization:"Bearer ".concat(n)}});case 11:d=e.sent,a.setState({videos:d.data.result,data:d,selectedVideo:d.data.result[0],user:i});case 13:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),a.handleBreak=function(e){e?a.setState({flag1:e,count:1,buttonName:"Start Allocation"}):a.setState({flag1:e,count:0,buttonName:"Stop Allocation"})},a.state={videos:[],data:[],selectedVideo:null,flags:[],flagData:[],flagCB:[],topics:[],topicCB:[],user:{},warningTime:4e4,signoutTime:6e5,count:0,flag1:!1,buttonName:"Stop Allocation"},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=Object(n.a)(o.a.mark((function e(){var t,s,a,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),s=p.a.getCurrentUser(),e.next=4,h.a.get(j.apiEnd+"/holdedmedlypost",{headers:{Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.next=7,h.a.get(j.apiEnd+"/flagData",{headers:{Authorization:"Bearer ".concat(t)}});case 7:return c=e.sent,e.next=10,h.a.get(j.apiEnd+"/topicdata",{headers:{Authorization:"Bearer ".concat(t)}});case 10:n=e.sent,this.setState({videos:a.data.result,data:a,selectedVideo:a.data.result[0],user:s,flags:c.data.flagname,topics:n.data.topicName});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(O.jsx)(O.Fragment,{children:this.state.videos.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"col-12 text-right",children:Object(O.jsx)("button",{className:"btn btn-info",onClick:function(){return e.handleBreak(!e.state.flag1)},children:this.state.buttonName})}),Object(O.jsxs)("div",{className:" row",children:[Object(O.jsx)("div",{className:" col-xl-8 col-lg-8 col-md-8 col-sm-12",children:Object(O.jsx)(g.a,{video:this.state.selectedVideo,onVideoDelete:this.handleDeleteVideo,flags:this.state.flags,topics:this.state.topics})}),Object(O.jsx)(b.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(O.jsx)(b.a,{}),Object(O.jsx)("div",{className:" col-xl-4 col-lg-4 col-md-4 col-sm-12",children:Object(O.jsx)(u.Scrollbars,{style:{padding:0,margin:0},children:Object(O.jsx)(v.a,{videos:this.state.videos,onVideoSelect:function(t){return e.setState({selectedVideo:t})}})})})]})]}):Object(O.jsx)("div",{className:"text-center col-12",children:Object(O.jsx)("h1",{children:"NO DATA"})})})}}]),s}(m.Component);t.default=f}}]);
//# sourceMappingURL=20.972bc0df.chunk.js.map