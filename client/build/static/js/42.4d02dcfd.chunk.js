(this.webpackJsonpmeest_moderation_panel=this.webpackJsonpmeest_moderation_panel||[]).push([[42],{684:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(734),s=a.n(n);function r(e,t,a){var n=(t-1)*a;return s()(e).slice(n).take(a).value()}},866:function(e,t,a){"use strict";var n=a(13),s=a(29),r=a(665),c=a.n(r),i=a(1),l=a.n(i),o=a(688);var d=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];e.apply(this,n),t.apply(this,n)}}),null)};function h(e){return!e||"#"===e.trim()}var b=l.a.forwardRef((function(e,t){var a=e.as,r=void 0===a?"a":a,c=e.disabled,i=e.onKeyDown,o=Object(s.a)(e,["as","disabled","onKeyDown"]),b=function(e){var t=o.href,a=o.onClick;(c||h(t))&&e.preventDefault(),c?e.stopPropagation():a&&a(e)};return h(o.href)&&(o.role=o.role||"button",o.href=o.href||"#"),c&&(o.tabIndex=-1,o["aria-disabled"]=!0),l.a.createElement(r,Object(n.a)({ref:t},o,{onClick:b,onKeyDown:d((function(e){" "===e.key&&(e.preventDefault(),b(e))}),i)}))}));b.displayName="SafeAnchor";var u=b,j=l.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.variant,i=e.size,d=e.active,h=e.className,b=e.block,j=e.type,x=e.as,m=Object(s.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),p=Object(o.a)(a,"btn"),g=c()(h,p,d&&"active",r&&p+"-"+r,b&&p+"-block",i&&p+"-"+i);if(m.href)return l.a.createElement(u,Object(n.a)({},m,{as:x,ref:t,className:c()(g,m.disabled&&"disabled")}));t&&(m.ref=t),j?m.type=j:x||(m.type="button");var v=x||"button";return l.a.createElement(v,Object(n.a)({},m,{className:g}))}));j.displayName="Button",j.defaultProps={variant:"primary",active:!1,disabled:!1};t.a=j},885:function(e,t,a){"use strict";var n=a(13),s=a(29),r=a(665),c=a.n(r),i=a(1),l=a.n(i),o=a(688),d=l.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.variant,i=e.animation,d=e.size,h=e.children,b=e.as,u=void 0===b?"div":b,j=e.className,x=Object(s.a)(e,["bsPrefix","variant","animation","size","children","as","className"]),m=(a=Object(o.a)(a,"spinner"))+"-"+i;return l.a.createElement(u,Object(n.a)({ref:t},x,{className:c()(j,m,d&&m+"-"+d,r&&"text-"+r)}),h)}));d.displayName="Spinner",t.a=d},999:function(e,t,a){"use strict";a.r(t);var n=a(115),s=a.n(n),r=a(172),c=a(687),i=a(168),l=a(169),o=a(170),d=a(171),h=a(1),b=a(173),u=a(87),j=a(88),x=a(885),m=a(704),p=a.n(m),g=a(684),v=a(52),f=a.n(v),O=a(1065),w=a(866),y=a(667),N=a(673),k=a(30),S=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={currentPage:1,pageSize:10,show:!1,sts:[],videos:[],videos1:[],page:0,serachText:"",index:0},e.handlebutton=function(t){e.setState({currentPage:t})},e.handleClose=function(){e.setState({show:!1})},e.handleVideo=function(t){var a=t.myautoid,n=JSON.parse(JSON.parse(JSON.stringify(t.posts)));e.setState({sts:n,currentv:a,show:!0})},e.handlechange1=function(t){var a=t.currentTarget;e.setState({serachText:a.value})},e.handleSubmit2=function(){var t=Object(c.a)(e.state.videos1),a=(u.a.getCurrentUser(),t.filter((function(t){return t.myautoid==e.state.serachText})));e.setState({videos:a,serachText:""})},e.handleSubmit1=function(){var t=Object(c.a)(e.state.videos1);e.setState({videos:t,serachText:""})},e.handleApprove=function(){var t=localStorage.getItem("token"),a={post_id:e.state.currentv,status:1};console.log(e.state.sts),f.a.post(j.apiEnd+"/adminapproverejectmeestpost",a,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){e.setState({show:!1});var a=localStorage.getItem("token"),n=u.a.getCurrentUser();b.a.get(j.apiEnd+"/rejectedpost",{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({videos:t.data.result,videos1:t.data.result,user:n,page:t.data.result.length})}))}))},e.handleVideo1=function(t){e.state.index+t<=e.state.sts.length-1?e.setState({index:e.state.index+t}):e.setState({index:0})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),a=u.a.getCurrentUser(),e.next=4,b.a.get(j.apiEnd+"/rejectedpost",{headers:{Authorization:"Bearer ".concat(t)}});case 4:n=e.sent,this.setState({videos:n.data.result,videos1:n.data.result,user:a,page:n.data.result.length});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.currentPage,n=t.pageSize,s=t.page,r=Object(g.a)(this.state.videos,a,n);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(y.K,{row:!0,className:"m-3",children:Object(k.jsx)(y.u,{md:"12",children:Object(k.jsxs)(y.V,{children:[Object(k.jsx)(y.X,{children:Object(k.jsx)(y.f,{onClick:this.handleSubmit1,type:"button",color:"success",children:"Show All Post"})}),Object(k.jsx)(y.X,{children:Object(k.jsxs)(y.f,{type:"button",color:"primary",onClick:this.handleSubmit2,children:[Object(k.jsx)(N.a,{name:"cil-magnifying-glass"})," Search"]})}),Object(k.jsx)(y.S,{id:"input1-group2",type:"text",className:"control",value:this.state.serachText,onChange:this.handlechange1,name:"input1-group2",placeholder:"Enter Post Id"})]})})}),r.length>0?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(y.wb,{children:Object(k.jsx)(y.u,{children:Object(k.jsxs)(y.j,{children:[Object(k.jsx)(y.n,{children:Object(k.jsx)("h2",{children:"Meest Reject List"})}),Object(k.jsxs)(y.k,{children:[Object(k.jsxs)("div",{className:"col-lg-12 col-md-12 col-sm-12",children:[Object(k.jsxs)("div",{className:"row border ",children:[Object(k.jsx)("div",{className:"col-1 bg-light p-2 text-white text-center border bg-dark",style:{fontWeight:"bold"},children:"Post Id"}),Object(k.jsx)("div",{className:"col-2 bg-light p-2 text-white text-center border bg-dark",style:{fontWeight:"bold"},children:"User Id"}),Object(k.jsx)("div",{className:"col-2 bg-light p-2 text-white text-center border bg-dark",style:{fontWeight:"bold"},children:"Caption"}),Object(k.jsx)("div",{className:"col-2 bg-light p-2 text-white text-center border bg-dark",style:{fontWeight:"bold"},children:"Comment"}),Object(k.jsx)("div",{className:"col-1 bg-light p-2 text-white text-center border bg-dark",style:{fontWeight:"bold"},children:"Rejected by"}),Object(k.jsx)("div",{className:"col-2 bg-light p-2 text-white text-center border bg-dark",style:{fontWeight:"bold"},children:"Flag given"}),Object(k.jsx)("div",{className:"col-1 bg-light p-2 text-white text-center border bg-dark",style:{fontWeight:"bold"},children:"Created At"}),Object(k.jsx)("div",{className:"col-1 bg-light p-2 text-white text-center border bg-dark",style:{fontWeight:"bold"},children:"View Post"})]}),r.map((function(t,a){return Object(k.jsx)("div",{children:Object(k.jsxs)("div",{className:"row border ",children:[Object(k.jsx)("div",{className:"col-1 text-center  p-2 text-white bg-dark ",children:t.myautoid}),Object(k.jsx)("div",{className:"col-2 text-center  p-2 text-white bg-dark ",children:t.userId}),Object(k.jsx)("div",{className:"col-2 text-center  p-2 text-white bg-dark ",children:decodeURI(t.caption).replace(/%23/g,"#").replace(/\+/g," ").substring(0,40)}),Object(k.jsx)("div",{className:"col-2 text-center  p-2 text-white bg-dark ",children:t.comment}),Object(k.jsx)("div",{className:"col-1 text-center  p-2 text-white bg-dark ",children:t.username}),Object(k.jsx)("div",{className:"col-2 text-center  p-2 text-white bg-dark ",children:t.flag_name}),Object(k.jsx)("div",{className:"col-1 text-center  p-2 text-white bg-dark ",children:new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(t.createdAt))}),Object(k.jsx)("div",{className:"col-1 text-center  p-2 text-white bg-dark",children:Object(k.jsx)("button",{onClick:function(){e.handleVideo(t)},className:"btn btn-success",children:"View Post"})})]})},a)}))]}),Object(k.jsx)(y.sb,{activePage:a,pages:Math.ceil(s/10),onActivePageChange:this.handlebutton})]})]})})})}):Object(k.jsx)("div",{className:"text-center col-12",children:Object(k.jsx)(x.a,{animation:"border",variant:"primary"})}),Object(k.jsxs)(O.a,{show:this.state.show,children:[Object(k.jsxs)(O.a.Body,{children:[this.state.sts.length>0?0===this.state.sts[0].image?Object(k.jsx)(p.a,{playing:!0,className:"react-player ",url:this.state.sts[this.state.index].post,width:"100%",onEnded:function(){e.handleVideo1(1)},controls:!0}):Object(k.jsxs)(y.o,{className:"embed-responsive-item",children:[Object(k.jsx)(y.s,{children:this.state.sts.map((function(e){return Object(k.jsx)(y.t,{children:Object(k.jsx)("img",{height:"348",className:"d-block w-100",src:e.post,alt:"slide 1"})})}))}),Object(k.jsx)(y.q,{direction:"prev"}),Object(k.jsx)(y.q,{direction:"next"})]}):null,Object(k.jsx)(y.wb,{className:"mb-2 mt-3",children:Object(k.jsx)(y.u,{col:"4",sm:"4",md:"",xl:"",className:"ml-xl-4 mb-xl-3 ml-md-4 mb-md-3",children:Object(k.jsx)(y.f,{onClick:this.handleApprove,active:!0,block:!0,style:{backgroundColor:"#C1F9B2"},className:"Element element ","aria-pressed":"true",children:"Approve"})})})]}),Object(k.jsx)(O.a.Footer,{children:Object(k.jsx)(w.a,{variant:"success",onClick:this.handleClose,children:"Close"})})]})]})}}]),a}(h.Component);t.default=S}}]);
//# sourceMappingURL=42.4d02dcfd.chunk.js.map