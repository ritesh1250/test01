(this.webpackJsonpmeest_moderation_panel=this.webpackJsonpmeest_moderation_panel||[]).push([[19],{678:function(e,t,s){},703:function(e,t,s){},856:function(e,t,s){"use strict";var a=s(115),o=s.n(a),c=s(172),i=s(669),n=s(1),l=(s(703),s(678),s(704)),r=s.n(l),d=s(845),m=s(116),u=s(87),b=(s(858),s(667)),h=s(30);t.a=function(e){var t=e.video,s=e.onVideoDelete,a=e.flags,l=e.topics,j=Object(n.useState)(0),g=Object(i.a)(j,2),p=g[0],O=g[1],v=Object(n.useState)(),f=Object(i.a)(v,2),x=(f[0],f[1]),N=Object(n.useState)(""),k=Object(i.a)(N,2),y=k[0],C=k[1],w=Object(n.useState)([]),S=Object(i.a)(w,2),B=S[0],A=S[1],P=Object(n.useState)([]),D=Object(i.a)(P,2),H=D[0],I=D[1],_=Object(n.useState)([]),V=Object(i.a)(_,2),F=V[0],E=V[1],T=Object(n.useState)([]),W=Object(i.a)(T,2),U=W[0],R=W[1],z=JSON.parse(JSON.parse(JSON.stringify(t.posts))),J=u.a.getCurrentUser(),q=new Date(t.createdAt),L=new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(q),M=function(){var e=Object(c.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B.length>0&&y&&H.length>0?(a={post_id:t.myautoid,status:"H",comment:y,topicData:H,flagData:B},s(a,t).then((function(e){m.b.dark("Post Holded",{position:"top-right",autoClose:2005,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})),A([]),C(""),I([]),E([]),R([])):m.b.error("Write Comment,select topic and select flags",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"video-detail ",children:[Object(h.jsx)("div",{className:"embed-responsive embed-responsive-16by9 video-detail-animation",style:{height:350},children:null!==z?0===z[0].image?Object(h.jsx)(r.a,{playing:!0,className:'react-player embed-responsive-item"',url:z[p].post,width:"100%",height:"20%",controls:!0,onEnded:function(){var e;p+(e=1)<=z.length-1?(x(z[p+e]),O(p+e)):(x(z[0]),O(0))}}):Object(h.jsxs)(b.o,{className:"embed-responsive-item",children:[Object(h.jsx)(b.s,{children:z.map((function(e){return Object(h.jsx)(b.t,{children:Object(h.jsx)("img",{style:{objectFit:"contain"},height:"348",className:"d-block w-100",src:e.post,alt:"slide 1"})})}))}),Object(h.jsx)(b.q,{direction:"prev"}),Object(h.jsx)(b.q,{direction:"next"})]}):null}),Object(h.jsx)("div",{className:"details ",children:Object(h.jsxs)("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 ",style:{backgroundColor:"#ffffff",padding:5},children:[Object(h.jsxs)("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 row",children:[Object(h.jsx)("img",{src:"https://bestone-bucket-node.s3.ap-south-1.amazonaws.com/userUploads/j1BraXN9Kbxar.JPEG",alt:"src",style:{width:30,height:30,borderRadius:15}}),Object(h.jsxs)("span",{className:"col-9",style:{color:"black",fontWeight:"bold"},children:["Post Id : ",t.myautoid]})]}),z.length>1?Object(h.jsxs)("div",{className:"row ml-2",children:[Object(h.jsx)("div",{style:{color:"black",fontWeight:"bold"},children:"Note : "}),Object(h.jsx)("div",{style:{color:"red"},children:"This Post have multiple images/videos so go through all "})]}):"",Object(h.jsxs)("div",{className:"row ml-2",children:[Object(h.jsx)("div",{style:{color:"black",fontWeight:"bold"},children:"User Id : "}),Object(h.jsx)("div",{style:{color:"black"},children:t.userId})]}),Object(h.jsxs)("div",{className:"row ml-2",children:[Object(h.jsx)("div",{style:{color:"black",fontWeight:"bold"},children:"Caption : "}),Object(h.jsx)("span",{className:"col-5",style:{"word-wrap":"break-word",display:"inline-block"},children:t.caption?decodeURI(decodeURIComponent(t.caption)).replace(/%23/g,"#").replace(/\+/g," "):"No Caption"})]}),Object(h.jsxs)("div",{className:"row ml-2",children:[Object(h.jsx)("div",{style:{color:"black",fontWeight:"bold"},children:"Uploaded Time : "}),Object(h.jsx)("div",{style:{color:"black"},children:L})]}),"Agent"===J.role_name?"":Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"row ml-2",children:[Object(h.jsx)("div",{style:{color:"black",fontWeight:"bold"},children:"Holded by : "}),Object(h.jsx)("div",{style:{color:"black"},children:t.username})]}),Object(h.jsxs)("div",{className:"row ml-2",children:[Object(h.jsx)("div",{style:{color:"black",fontWeight:"bold"},children:"Flag given : "}),Object(h.jsx)("div",{style:{color:"black"},children:t.flag_name})]}),Object(h.jsxs)("div",{className:"row ml-2",children:[Object(h.jsx)("div",{style:{color:"black",fontWeight:"bold"},children:"Comment by mod : "}),Object(h.jsx)("div",{style:{color:"black"},children:t.comment})]})]}),Object(h.jsx)("div",{children:Object(h.jsxs)(b.wb,{className:"mb-2 mt-3",children:[Object(h.jsx)(b.u,{col:"4",sm:"4",md:"",xl:"",className:"ml-xl-4 mb-xl-3 ml-md-4 mb-md-3",children:Object(h.jsx)(b.f,{onClick:function(e){if("Agent"===J.role_name)if(H.length>0&&0===B.length){var a={post_id:t.myautoid,status:1,topicData:H};s(a,t).then((function(e){Object(m.b)("Post Approved",{position:"top-right",autoClose:2005,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})),A([]),C(""),I([]),E([]),R([])}else m.b.error("select topic and not select flag",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});else if(y){var o={post_id:t.myautoid,status:1,comment:y};s(o,t).then((function(e){Object(m.b)("Post Approved",{position:"top-right",autoClose:2005,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})),A([]),C(""),I([]),E([]),R([])}else m.b.error("Please enter comment",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},active:!0,block:!0,style:{backgroundColor:"#C1F9B2"},className:"Element element ","aria-pressed":"true",children:"Approve"})}),Object(h.jsx)(b.u,{col:"4",sm:"4",md:"",xl:"",className:"mb-lg-3 mb-md-3",children:Object(h.jsx)(b.f,{onClick:function(){if("Agent"===J.role_name)if(B.length>0&&y&&H.length>0){var e={post_id:t.myautoid,status:0,comment:y,topicData:H,flagData:B};s(e,t).then((function(){m.b.warning("Post Rejected",{position:"top-right",autoClose:2005,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})),A([]),C(""),I([]),E([]),R([])}else m.b.error("Write Comment,select topic and select flags",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});else if(y){var a={post_id:t.myautoid,status:0,comment:y};s(a,t).then((function(){m.b.warning("Post Rejected",{position:"top-right",autoClose:2005,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})),A([]),C(""),I([]),E([]),R([])}else m.b.error("Please enter comment",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},active:!0,block:!0,style:{backgroundColor:"rgba(253, 55, 55, 0.700)"},className:"Element element tada","aria-pressed":"true",children:"Reject"})}),"Agent"===J.role_name?Object(h.jsx)(b.u,{col:"4",sm:"4",md:"",xl:"",className:"mb-lg-3 mr-lg-4 mb-xl-3 mr-xl-4 mb-md-3 mr-md-4 ",children:Object(h.jsx)(b.f,{onClick:M,active:!0,block:!0,className:"Element element tada",style:{backgroundColor:"rgba(119, 117, 117, 0.981)"},"aria-pressed":"true",children:"Hold"})}):""]})}),Object(h.jsx)("form",{children:Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{value:y,onChange:function(e){var t=e.currentTarget;C(t.value)},id:"comment",name:"comment",placeholder:"Enter comment on this post",className:"form-control"})})}),"Agent"===J.role_name?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d.a,{value:U,isMulti:!0,options:a,onChange:function(e){var t=e.map((function(e){return e.value}));A(t),R(e)},className:"basic-multi-select",placeholder:"Select Flag"}),Object(h.jsx)("br",{}),Object(h.jsx)(d.a,{value:F,options:l,onChange:function(e){I(e.value),E(e)},className:"basic-multi-select",placeholder:"Select Topic"})]}):""]})})]})}},858:function(e,t,s){},869:function(e,t,s){"use strict";s(1),s(703);var a=s(30),o=function(e){var t=e.video,s=e.onVideoSelect,o=t.thumbnail,c=new Date(t.createdAt),i=new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).format(c),n=new Intl.DateTimeFormat("en-IN",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(c);return Object(a.jsx)("li",{onClick:function(){return s(t)},className:"list-group-item list-item-custom ",children:Object(a.jsxs)("div",{className:"video-list media",children:[Object(a.jsx)("div",{className:"media-right",children:Object(a.jsx)("img",{className:"media-object",style:{objectFit:"contain",marginRight:5},width:"120px",height:"80px",src:o,alt:"list"})}),Object(a.jsxs)("div",{className:"media-body",style:{marginLeft:10},children:[Object(a.jsx)("div",{className:"",style:{fontWeight:"bold"},children:t.caption?decodeURI(decodeURIComponent(t.caption)).replace(/%23/g,"#").replace(/\+/g," ").substring(0,20):"No Caption"}),Object(a.jsx)("div",{className:"media-heading-channel-title",style:{fontSize:"auto"},children:i}),Object(a.jsx)("div",{className:"media-heading-channel-date",style:{fontSize:"auto"},children:n})]})]})})};t.a=function(e){var t=e.videos.map((function(t){return Object(a.jsx)(o,{onVideoSelect:e.onVideoSelect,video:t},t.id)}));return Object(a.jsx)("ul",{className:"col-md-12 ",children:t})}},949:function(e,t,s){"use strict";s.r(t);var a=s(115),o=s.n(a),c=s(687),i=s(172),n=s(168),l=s(169),r=s(170),d=s(171),m=s(1),u=s(869),b=s(835),h=s(856),j=s(116),g=s(52),p=s.n(g),O=s(87),v=s(88),f=s(30),x=function(e){Object(r.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(n.a)(this,s);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={videos:[],data:[],selectedVideo:null,flags:[],flagData:[],flagCB:[],topics:[],topicCB:[],user:{},warningTime:4e4,signoutTime:6e5,count:0,flag1:!1,buttonName:"Stop Allocation"},e.handleDeleteVideo=function(){var t=Object(i.a)(o.a.mark((function t(s,a){var i,n,l,r,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=localStorage.getItem("token"),t.next=3,p.a.post(v.apiEnd+"/adminapprovemeestpost",s,{headers:{Authorization:"Bearer ".concat(i)}});case 3:if(t.sent,n=O.a.getCurrentUser(),l=Object(c.a)(e.state.videos),r=l.filter((function(e){return e.id!==a.id})),e.setState({videos:r,selectedVideo:r[0],flagData:[]}),!(e.state.videos.length<5&&0===e.state.count)){t.next=13;break}return t.next=11,p.a.get(v.apiEnd+"/holdedpost",{headers:{Authorization:"Bearer ".concat(i)}});case 11:d=t.sent,e.setState({videos:d.data.result,data:d,selectedVideo:d.data.result[0],user:n});case 13:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}(),e.handleBreak=function(t){t?e.setState({flag1:t,count:1,buttonName:"Start Allocation"}):e.setState({flag1:t,count:0,buttonName:"Stop Allocation"})},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t,s,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),s=O.a.getCurrentUser(),e.next=4,p.a.get(v.apiEnd+"/holdedpost",{headers:{Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.next=7,p.a.get(v.apiEnd+"/flagData",{headers:{Authorization:"Bearer ".concat(t)}});case 7:return c=e.sent,e.next=10,p.a.get(v.apiEnd+"/topicdata",{headers:{Authorization:"Bearer ".concat(t)}});case 10:i=e.sent,this.setState({videos:a.data.result,data:a,selectedVideo:a.data.result[0],user:s,flags:c.data.flagname,topics:i.data.topicName});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(f.jsx)(f.Fragment,{children:this.state.videos.length>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"col-12 text-right",children:Object(f.jsx)("button",{className:"btn btn-info",onClick:function(){return e.handleBreak(!e.state.flag1)},children:this.state.buttonName})}),Object(f.jsxs)("div",{className:" row",children:[Object(f.jsx)("div",{className:" col-xl-8 col-lg-8 col-md-8 col-sm-12",children:Object(f.jsx)(h.a,{video:this.state.selectedVideo,onVideoDelete:this.handleDeleteVideo,flags:this.state.flags,topics:this.state.topics})}),Object(f.jsx)(j.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(j.a,{}),Object(f.jsx)("div",{className:" col-xl-4 col-lg-4 col-md-4 col-sm-12",children:Object(f.jsx)(b.Scrollbars,{style:{padding:0,margin:0},children:Object(f.jsx)(u.a,{videos:this.state.videos,onVideoSelect:function(t){return e.setState({selectedVideo:t})}})})})]})]}):Object(f.jsx)("div",{className:"text-center col-12",children:Object(f.jsx)("h1",{children:"NO DATA"})})})}}]),s}(m.Component);t.default=x}}]);
//# sourceMappingURL=19.1a4838bd.chunk.js.map